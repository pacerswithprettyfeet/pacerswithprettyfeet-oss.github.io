<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title></title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body { font-family: Arial, sans-serif; text-align: center; background: #f4f4f4; }
    #chart-container { width: 95%; max-width: 900px; margin: 50px auto; }
  </style>
</head>
<body>
  <h2></h2>

  <div id="chart-container">
    <canvas id="cdfChart"></canvas>
    <p style="text-align:center; font-size:14px; color:#555; margin-top:10px;">
     Notice the much steeper incline in the plots for the more recent crop compared to Kumble and Harbhajan. On top of the decreased workloads, 
     the number of overs bowled by the recent crop in each innings have also been quite 
     consistent. Clicking on names of each bowler toggles their stats on and off
    </p>
  </div>

  <script>
    const bowlerData = {
      "Ashwin": [
        162, 129, 204, 93, 81, 295, 210, 210, 126, 96, 179, 180, 278, 120, 72, 
        108, 84, 240, 315, 37, 126, 114, 48, 186, 48, 30, 185, 213, 255, 180, 90, 
        90, 138, 83, 70, 54, 164, 83, 96, 86, 123, 59, 204, 180, 72, 60, 132, 95, 144, 
        132, 108, 294, 76, 48, 70, 53, 117, 96, 12, 252, 192, 264, 150, 331, 105, 143, 108, 
        78, 126, 209, 168, 172, 126, 144, 150, 162, 258, 96, 90, 119, 137, 284, 144, 263, 
        186, 144, 84, 108, 158, 120, 126, 99, 161, 90, 168, 173, 183, 146, 60, 126, 174, 276, 
        141, 66, 108, 42, 36, 144, 228, 97, 179, 169, 105, 95, 72, 313, 92, 255, 22, 90, 102, 264, 
        123, 48, 135, 84, 102
    ],

    "Anil Kumble": [
        114, 172, 306, 228, 177, 203, 222, 204, 177, 149, 150, 141, 156, 324, 211, 234, 396, 234, 
        138, 105, 282, 150, 126, 114, 36, 132, 324, 223, 228, 276, 126, 324, 126, 180, 208, 240, 
        192, 178, 174, 234, 184, 90, 168, 216, 150, 207, 128, 163, 282, 150, 264, 84, 270, 120, 198, 
        258, 48, 261, 24
    ],

    "Ravindra Jadeja": [
        114, 198, 18, 78, 48, 120, 132, 83, 108, 118, 120, 46, 56, 60, 48, 91, 60, 6, 197, 120, 60, 76, 108, 
        204, 210, 120, 192, 42, 126, 73, 132, 72, 36, 84, 78, 96, 198, 168, 84, 78, 216, 128, 240, 150, 6, 
        6, 18, 84, 120, 66, 42, 77, 270, 228, 126, 66, 6, 6, 23, 54, 168, 96, 72, 120, 204, 204, 270, 150, 
        223, 132, 138, 180, 174, 204, 180, 90, 198, 222, 90, 108, 297, 264, 130, 48, 144, 198, 72, 276, 72, 
        150, 96, 108, 71
    ],

    "Axar Patel": [
        72, 6, 24, 84, 36, 84, 204, 126, 78, 30, 66, 120, 126, 130, 90, 156, 144, 168, 114, 78, 96, 
        60, 18, 55, 60
    ],

    "Kuldeep Yadav": [
        161, 174, 102, 90, 84, 48, 138, 30, 90, 85, 72, 90, 111, 18, 36, 38, 37, 49, 174, 78, 60, 84, 108, 48
    ],

    "Jasprit Bumrah": [
        84, 107, 95, 104, 84, 60, 108, 60, 78, 60, 60, 54, 114, 48, 216, 36, 66, 60, 48, 36, 36, 84, 
        36, 84, 24, 51, 97, 90, 48
    ],

    "Mohammad Shami": [
        156, 90, 88, 12, 84, 84, 108, 65, 102, 79, 108, 109, 159, 57, 63, 48, 66, 48, 78, 42, 78, 96, 60, 
        60, 36, 36, 102, 54, 186, 48, 131, 84, 72, 48, 169, 66, 54, 18, 54, 27, 72, 42
    ],

    "Harbhajan Singh": [
        102, 108, 167, 186, 93, 152, 90, 102, 192, 208, 72, 96, 227, 183, 345, 129, 180, 180, 183, 
        275, 186, 144, 291, 102, 90, 268, 96, 186, 138, 126, 132, 138, 36, 162, 1, 246, 181, 311, 
        36, 228, 36, 246, 162, 258, 126, 230, 251, 174, 180, 174, 281, 54, 269, 204, 228, 180, 150, 
        162, 184, 156, 213, 182, 216, 228, 134, 186, 240, 292, 258, 117, 144, 288, 72, 138, 174, 120, 
        125, 66, 294, 138, 213, 228, 132, 60, 156, 190, 204, 180, 222, 110, 276, 102, 114, 168, 12, 
        126, 171, 126, 65, 160, 138, 126, 12
    ],

    "Bhuvaneshwar Kumar": [
        54, 12, 84, 36, 90, 72, 162, 66, 75, 42, 78, 54, 60, 90, 36, 126, 48, 102, 18, 78, 24
    ],

    "Zaheer Khan": [
        132, 18, 120, 108, 138, 114, 126, 172, 48, 162, 30, 152, 48, 132, 36, 186, 174, 48, 102, 66, 132, 
        78, 179, 102, 138, 68, 132, 86, 90, 24, 60, 76, 66, 132, 126, 162, 138, 60, 216, 172, 24, 90, 
        165, 156, 102, 132, 150, 90, 126, 18, 180, 71, 162, 45, 66, 78, 126, 102, 84, 48, 158, 127, 168, 
        48, 186, 96, 24, 36, 12, 90
    ],

    "Umesh Yadav": [
        114, 42, 72, 126, 108, 48, 42, 105, 120, 30, 42, 85, 90, 48, 108, 72, 90, 60, 90, 48, 87, 
        84, 30, 12, 186, 90, 54, 54, 96, 90, 144, 54, 36, 42, 126, 84, 72, 78, 78, 48, 42, 138, 150, 
        30, 36, 18, 96, 48, 48, 60, 150, 72, 160, 73, 191, 78, 66, 18, 96, 54, 66, 18, 30, 30
    ],

    "Mohammad Siraj": [
        60, 54, 90, 72, 12, 102, 24, 48, 84, 36, 108, 18, 108, 42, 30, 18, 61, 60, 84, 24, 84, 66, 24, 
        42, 127, 30, 42, 6, 24, 30, 36
    ],

    "Ishant Sharma": [
        150, 150, 84, 84, 12, 72, 120, 177, 78, 96, 42, 108, 150, 30, 150, 174, 72, 78, 75, 60, 90, 42, 
        72, 66, 120, 66, 199, 36, 180, 84, 78, 162, 36, 30, 42, 118, 137, 102, 18, 126, 60, 162, 42, 30, 
        36, 66, 18, 60, 30, 198, 30, 54, 126, 78, 72, 30, 70, 54, 180, 54, 102, 30, 120, 78, 156, 54, 
        168, 108, 38, 168, 90, 12, 90, 84, 72, 192, 48
    ]
    };

    // Convert balls to overs and compute CDF
    function getCDF(balls) {
      const overs = balls.map(b => b/6).sort((a,b)=>a-b);
      const n = overs.length;
      const cdf = overs.map((v,i)=> (i+1)/n); // fraction of innings <= x overs
      return { x: overs, y: cdf };
    }

    // Create datasets
    const colors = ['red','blue','green','orange','purple','brown','pink','cyan','magenta','teal'];
    let colorIdx = 0;
    const datasets = [];

    for (const bowler in bowlerData) {
      const {x, y} = getCDF(bowlerData[bowler]);
      datasets.push({
        label: bowler,
        data: x.map((v,i)=> ({x: v, y: y[i]})),
        borderColor: colors[colorIdx % colors.length],
        fill: false,
        showLine: true,     // connect the points with a line
        stepped: true,      // optional: step-like CDF
        tension: 0,
        pointRadius: 2
      });
      colorIdx++;
    }

    // Chart config
    const ctx = document.getElementById('cdfChart').getContext('2d');
    new Chart(ctx, {
      type: 'scatter',
      data: { datasets: datasets },
      options: {
        responsive: true,
        parsing: false,  // important for scatter chart
        plugins: {
          legend: { display: true, position: 'top' },
          title: {
            display: true,
            text: 'Distribution of workloads in home innings',
            font: { size: 18, weight: 'bold' }
          }
        },
        scales: {
          x: { 
            title: { display: true, text: 'Overs' }, 
            min: 0,
            beginAtZero: true
          },
          y: { 
            title: { display: true, text: 'Fraction of career innings with a workload lesser than x overs' }, 
            min: 0, 
            max: 1 
          }
        }
      }
    });
  </script>
</body>
</html>
